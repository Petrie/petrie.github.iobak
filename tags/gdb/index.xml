<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Gdb on Petrie&#39;s Home</title>
    <link>http://petrie.github.io/tags/gdb/</link>
    <description>Recent content in Gdb on Petrie&#39;s Home</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Wed, 11 Apr 2018 18:22:53 +0000</lastBuildDate>
    
	<atom:link href="http://petrie.github.io/tags/gdb/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>PHP内存管理ZMM（四）－GDB调试php源码并手动调用ZMM相关函数</title>
      <link>http://petrie.github.io/post/2018-04-11-php-zend-gdb-call/</link>
      <pubDate>Wed, 11 Apr 2018 18:22:53 +0000</pubDate>
      
      <guid>http://petrie.github.io/post/2018-04-11-php-zend-gdb-call/</guid>
      <description>&lt;p&gt;本章讲介绍gdb调试php，并手动调用ZMM中申请内存和查找大内存块的函数&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;_zend_mm_alloc_int&lt;/li&gt;
&lt;li&gt;zend_mm_search_large_block&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;为什么要手动调用函数&#34;&gt;为什么要手动调用函数&lt;/h4&gt;

&lt;p&gt;在阅读PHP ZMM源码的时候，有许多复杂的逻辑仅仅通过阅读源码很难理解，比如大内存large_free_buckets结构的构造。同构手动调用函数，可以方便的执行要申请的内存大小，从而测试构造large_free_buckets结构&lt;/p&gt;

&lt;h4 id=&#34;编译安装php&#34;&gt;编译安装PHP&lt;/h4&gt;

&lt;p&gt;从github上下载php源码&lt;/p&gt;

&lt;p&gt;编译到目录:~/php5.6-disabledebug，注意不要开启debug选项&lt;/p&gt;

&lt;h4 id=&#34;gdb调试php&#34;&gt;GDB调试PHP&lt;/h4&gt;</description>
    </item>
    
  </channel>
</rss>